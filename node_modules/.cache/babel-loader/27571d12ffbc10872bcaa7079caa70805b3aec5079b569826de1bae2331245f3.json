{"ast":null,"code":"import axios from \"axios\";\n\n//Production\n// const url = 'https://backendpainter-v1.onrender.com';\n//Testing\nconst url = 'http://localhost:8081';\nexport const loginUser = data => {\n  return async dispatch => {\n    let response;\n    try {\n      response = await axios.post(`${url}/login`, data);\n      const output = response.data;\n      if (output.status === \"success\") {\n        dispatch({\n          type: \"LOGIN_USER_SUCCESS\",\n          payload: output.token\n        });\n      }\n    } catch (error) {\n      const output = error.response.data;\n      dispatch({\n        type: \"LOGIN_USER_FAILED\",\n        payload: output.error\n      });\n    }\n    return response; // Return the entire response object\n  };\n};\n\nexport const registerUser = data => {\n  return async dispatch => {\n    try {\n      const response = await axios.post(`${url}/register`, data);\n      console.log(response);\n      const output = response.data;\n      if (output.status === \"success\") {\n        dispatch({\n          type: \"REGISTER_USER_SUCCESS\",\n          payload: output.message\n        });\n      }\n    } catch (error) {\n      const output = error.response.data;\n      if (output.message) {\n        dispatch({\n          type: \"REGISTER_USER_FAIL\",\n          payload: output.message\n        });\n      } else {\n        dispatch({\n          // error of same username/email/phoneNumber,it has to be unique no duplication/same username.\n          type: \"REGISTER_USER_INVALID\",\n          payload: output.error\n        });\n      }\n    }\n  };\n};\nexport const userLogout = () => {\n  return dispatch => {\n    dispatch({\n      type: \"LOGOUT_USER\"\n    });\n  };\n};","map":{"version":3,"names":["axios","url","loginUser","data","dispatch","response","post","output","status","type","payload","token","error","registerUser","console","log","message","userLogout"],"sources":["C:/Thuchanh/Painter/frontend/src/actionCreators/LoginAction.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\n//Production\r\n// const url = 'https://backendpainter-v1.onrender.com';\r\n//Testing\r\nconst url = 'http://localhost:8081';\r\n\r\n\r\nexport const loginUser = (data) => {\r\n  return async (dispatch) => {\r\n    let response;\r\n    try {\r\n      response = await axios.post(`${url}/login`, data);\r\n      const output = response.data;\r\n\r\n      if (output.status === \"success\") {\r\n        dispatch({\r\n          type: \"LOGIN_USER_SUCCESS\",\r\n          payload: output.token,\r\n        });\r\n      }\r\n    } catch (error) {\r\n      const output = error.response.data;\r\n      dispatch({\r\n        type: \"LOGIN_USER_FAILED\",\r\n        payload: output.error,\r\n      });\r\n    }\r\n    return response; // Return the entire response object\r\n  };\r\n};\r\n\r\n\r\nexport const registerUser = (data) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const response = await axios.post(`${url}/register`, data);\r\n      console.log(response);\r\n\r\n      const output = response.data;\r\n      if (output.status === \"success\") {\r\n        dispatch({\r\n          type: \"REGISTER_USER_SUCCESS\",\r\n          payload: output.message,\r\n        });\r\n      }\r\n    } catch (error) {\r\n      const output = error.response.data;\r\n      if (output.message) {\r\n        dispatch({\r\n          type: \"REGISTER_USER_FAIL\",\r\n          payload: output.message,\r\n        });\r\n      } else {\r\n        dispatch({\r\n          // error of same username/email/phoneNumber,it has to be unique no duplication/same username.\r\n          type: \"REGISTER_USER_INVALID\",\r\n          payload: output.error,\r\n        });\r\n      }\r\n    }\r\n  };\r\n};\r\n\r\nexport const userLogout = () => {\r\n  return (dispatch) => {\r\n    dispatch({\r\n      type: \"LOGOUT_USER\",\r\n    });\r\n  };\r\n};\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;;AAEzB;AACA;AACA;AACA,MAAMC,GAAG,GAAG,uBAAuB;AAGnC,OAAO,MAAMC,SAAS,GAAIC,IAAI,IAAK;EACjC,OAAO,MAAOC,QAAQ,IAAK;IACzB,IAAIC,QAAQ;IACZ,IAAI;MACFA,QAAQ,GAAG,MAAML,KAAK,CAACM,IAAI,CAAE,GAAEL,GAAI,QAAO,EAAEE,IAAI,CAAC;MACjD,MAAMI,MAAM,GAAGF,QAAQ,CAACF,IAAI;MAE5B,IAAII,MAAM,CAACC,MAAM,KAAK,SAAS,EAAE;QAC/BJ,QAAQ,CAAC;UACPK,IAAI,EAAE,oBAAoB;UAC1BC,OAAO,EAAEH,MAAM,CAACI;QAClB,CAAC,CAAC;MACJ;IACF,CAAC,CAAC,OAAOC,KAAK,EAAE;MACd,MAAML,MAAM,GAAGK,KAAK,CAACP,QAAQ,CAACF,IAAI;MAClCC,QAAQ,CAAC;QACPK,IAAI,EAAE,mBAAmB;QACzBC,OAAO,EAAEH,MAAM,CAACK;MAClB,CAAC,CAAC;IACJ;IACA,OAAOP,QAAQ,CAAC,CAAC;EACnB,CAAC;AACH,CAAC;;AAGD,OAAO,MAAMQ,YAAY,GAAIV,IAAI,IAAK;EACpC,OAAO,MAAOC,QAAQ,IAAK;IACzB,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAML,KAAK,CAACM,IAAI,CAAE,GAAEL,GAAI,WAAU,EAAEE,IAAI,CAAC;MAC1DW,OAAO,CAACC,GAAG,CAACV,QAAQ,CAAC;MAErB,MAAME,MAAM,GAAGF,QAAQ,CAACF,IAAI;MAC5B,IAAII,MAAM,CAACC,MAAM,KAAK,SAAS,EAAE;QAC/BJ,QAAQ,CAAC;UACPK,IAAI,EAAE,uBAAuB;UAC7BC,OAAO,EAAEH,MAAM,CAACS;QAClB,CAAC,CAAC;MACJ;IACF,CAAC,CAAC,OAAOJ,KAAK,EAAE;MACd,MAAML,MAAM,GAAGK,KAAK,CAACP,QAAQ,CAACF,IAAI;MAClC,IAAII,MAAM,CAACS,OAAO,EAAE;QAClBZ,QAAQ,CAAC;UACPK,IAAI,EAAE,oBAAoB;UAC1BC,OAAO,EAAEH,MAAM,CAACS;QAClB,CAAC,CAAC;MACJ,CAAC,MAAM;QACLZ,QAAQ,CAAC;UACP;UACAK,IAAI,EAAE,uBAAuB;UAC7BC,OAAO,EAAEH,MAAM,CAACK;QAClB,CAAC,CAAC;MACJ;IACF;EACF,CAAC;AACH,CAAC;AAED,OAAO,MAAMK,UAAU,GAAGA,CAAA,KAAM;EAC9B,OAAQb,QAAQ,IAAK;IACnBA,QAAQ,CAAC;MACPK,IAAI,EAAE;IACR,CAAC,CAAC;EACJ,CAAC;AACH,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}